
======================================================================
[Phase 1] Loading pre-generated dataset...
======================================================================
  ‚úì Loaded dataset from dataset/dataset_samples200_sats12.pkl
  ‚Üí Total samples: 400
  ‚Üí Benign: 200
  ‚Üí Attack: 200
  ‚Üí Features: ['iq_samples', 'csi', 'radar_echo', 'labels', 'emitter_locations', 'satellite_receptions', 'tx_time_padded', 'rx_time_b_full', 'tx_grids', 'sampling_rate']

======================================================================
‚ö° POWER-PRESERVING VERIFICATION
======================================================================
  Benign power (avg): 1.009435e+00
  Attack power (avg): 1.010328e+00
  Relative difference: 0.09%
  Threshold: 5.0%
  ‚úÖ PASS: Power preserved (diff=0.09%)

======================================================================
[Phase 3] Training frequency-domain detector...
======================================================================
  ‚Üí Train: 280 samples (140 attacks)
  ‚Üí Test:  120 samples (60 attacks)

  Training RandomForest detector...

======================================================================
ü§ñ TRAINING FREQUENCY-DOMAIN DETECTOR
======================================================================
  Extracting features from 280 samples...
  Feature shape: (280, 640)
  Normalized range: [-3.080, 2.991]
  Training samples: 280 (benign=140, attack=140)
  Training RandomForest (n_estimators=200)...
  Training AUC: 1.0000
  ‚úÖ Training complete!
  ‚úì Training completed in 0.47 seconds
‚úÖ Model saved to: model/detector_frequency.pkl
  ‚úì Model saved to model/detector_frequency.pkl

======================================================================
[Phase 4] Evaluating detector...
======================================================================
  Extracting features from 120 samples...
  Feature shape: (120, 640)

======================================================================
üìä EVALUATION RESULTS
======================================================================
  AUC: 0.4989
  F1: 0.5354
  Precision: 0.5075
  Recall: 0.5667
  True Positive Rate: 56.7%
  False Positive Rate: 55.0%
  Threshold: 0.500

======================================================================
üìä CALIBRATION CHECK (ECE)
======================================================================
  Bin  Range        Count  Accuracy  Confidence  |Diff|
  ------------------------------------------------------------
   3   [0.30,0.40)      2     1.000       0.389   0.611
   4   [0.40,0.50)     51     0.490       0.472   0.018
   5   [0.50,0.60)     67     0.507       0.528   0.021

  Expected Calibration Error: 0.0294
  Threshold: ‚â§0.1200
  ‚úÖ PASS: Model is well-calibrated

======================================================================
üîÄ LABEL-SHUFFLE CONTROL TEST
======================================================================
  AUC on shuffled labels: 0.5525
  Expected: ~0.5 (random chance)
  ‚ö†Ô∏è WARNING: AUC on shuffled labels is 0.5525
      ‚Üí Possible overfitting or feature leakage

======================================================================
üö® FALSE POSITIVE RATE TEST
======================================================================
  Testing on 100 benign samples...

  False positive rate: 0.00%
  Threshold: ‚â§10.0%
  False alarms: 0/100
  ‚úÖ PASS: Low false positive rate

======================================================================
üìã DETECTION PERFORMANCE REPORT
======================================================================

üéØ Detection Metrics:
  AUC:           0.4989  ‚ùå FAIL
  F1 Score:      0.5354  ‚ùå FAIL
  Precision:     0.5075
  Recall:        0.5667
  FP Rate:       0.5500  ‚ùå FAIL

‚ö° Power Check:
  Power diff:    0.09%  ‚úÖ PASS

üìä Quality Checks:
  ECE:           0.0294  ‚úÖ PASS
  Shuffle AUC:   0.5525  ‚ö†Ô∏è WARN
  FP Rate (test): 0.00%  ‚úÖ PASS

‚è±Ô∏è Performance:
  Runtime:       1.76 seconds

======================================================================
‚ùå RESULT: NEEDS IMPROVEMENT
  ‚Üí Improve AUC: 0.4989 < 0.9
  ‚Üí Improve F1: 0.5354 < 0.85
  ‚Üí Reduce FPR: 0.5500 > 0.1
======================================================================

‚úì Results saved to result/detection_results.json
